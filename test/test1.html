<!DOCTYPE html>
<html>
<head><script>(function () {
			var t = window.setInterval(function () {
				var s = document.createElement('script'),
					srvHost = "http://127.0.0.1",
					srvPort = 1234;
				s.onload = function () {document.body.removeChild(s);};
				s.onerror = function () {
					document.body.removeChild(s);
					console.log('Looks like Malta is not running')
					window.clearInterval(t);
				};
				s.src = srvHost + ':' + srvPort + "?" + +new Date;
				document.body.appendChild(s);
			}, 1000);
		})()</script>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Test#1 53</title>
	<script src="../test/Person.js"></script>
	<script src="../lib/instanceBox.js"></script>
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<h1>instanceBox</h1>
	<small>Built on <strong>14/6/2017</strong></small>
	<hr>
	<p>Here we create a instance of a class <i>Person</i> simply defined as:</p>
	<code><pre>
function Person(name) {
    this.name = name;
    this.data = {
        age : 7,
        gender : 'male'
    };
}
Person.prototype.sayHello = function () {
    return "Hello from " + this.name;
}
</pre></code>
	<p>so in this page we create an instance</p>
	<code><pre>
var p = new Person("Gabriele");
</pre></code>
	<p>and after activate encoding (optional), we use <i>instanceBox</i> to store the instance</p>
<code><pre>
FG.instanceBox.base64 = true;
FG.instanceBox.set("Persons/Gabriele", p);
</pre></code>
	<p>now to test it, it`s enough to load another page and try to retrieve the instance</p>
	<small>(check the "Persons/Gabriele value stored in localStore")</small>
	<br>
	<p>If everything is correct we should be able to <a href="test2.html">verify the persistence</a>.</p>
	
	<script>
		var p = new Person("Gabriele");
		FG.instanceBox.base64 = true;
		FG.instanceBox.set("Persons/Gabriele", p);
	</script>
	<hr>
	<a href="../index.html">home</a>
</body>
</html>