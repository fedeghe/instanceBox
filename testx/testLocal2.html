<!DOCTYPE html>
<html>
<head><script>(function () {
			var t = window.setInterval(function () {
				var s = document.createElement('script'),
					srvHost = "http://127.0.0.1",
					srvPort = 1234;
				s.onload = function () {document.body.removeChild(s);};
				s.onerror = function () {
					document.body.removeChild(s);
					console.log('Looks like Malta is not running')
					window.clearInterval(t);
				};
				s.src = srvHost + ':' + srvPort + "?" + +new Date;
				document.body.appendChild(s);
			}, 1000);
		})()</script>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Test localStorage #2 40</title>
	<script src="../test/Person.js"></script>
	<script src="../lib/instanceBox.js"></script>
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<h1>instanceBox</h1>
	<hr>
	<p>Here we just try to retrieve all the informations about the stored instance:</p>
	<code><pre>instanceBox.base64 = true;
instanceBox.use('local');
var p = instanceBox.get("Persons/Gabriele"),
    trg = document.getElementById('target');

trg.innerHTML = p ? 
    p.sayHello() + ', ' + p.data.gender + ', ' + p.data.age
    :
    "Element not found";
</pre></code>
<p>...and the result is:</p>

	<div id="target"></div>
	<hr>
	<a href="testLocal1.html">back</a> | <a href="../index.html">home</a>
	<script>
		instanceBox.base64 = true;
		instanceBox.use('local');
		var p = instanceBox.get("Persons/Gabriele"),
			trg = document.getElementById('target');
		
		trg.innerHTML = p ?
			p.sayHello() + ', ' + p.data.gender + ', ' + p.data.age
			:
			"Element not found";
	</script>
	<hr>
	<button onclick="instanceBox.clear(); document.location.reload();">cleanup</button>
</body>
</html>